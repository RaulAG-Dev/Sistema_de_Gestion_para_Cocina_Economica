<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<BorderPane prefHeight="700.0" prefWidth="1000.0" style="-fx-background-color: #F4F6F8;" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.sistema.controllers.ControladorGestionClientes">

    <top>
        <HBox alignment="CENTER_LEFT" spacing="20" style="-fx-background-color: #2C3E50; -fx-padding: 15;">
            <Button fx:id="regresarButton" onAction="#manejarRegreso" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-border-color: white; -fx-border-radius: 5; -fx-cursor: hand;" text="← Regresar" />

            <Label text="Directorio de clientes" textFill="WHITE">
                <font>
                    <Font name="System Bold" size="18.0" />
                </font>
            </Label>

            <Region HBox.hgrow="ALWAYS" />

            <Button fx:id="clientesFrecuentesButton" onAction="#verClientesFrecuentes" style="-fx-background-color: #e67e22; -fx-text-fill: white; -fx-font-weight: bold; -fx-cursor: hand; -fx-background-radius: 5;" text="★ Clientes frecuentes">
                <padding>
                    <Insets bottom="8.0" left="15.0" right="15.0" top="8.0" />
                </padding>
            </Button>
        </HBox>
    </top>

    <center>
        <VBox spacing="15" style="-fx-padding: 20;">
            <Label style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #2C3E50;" text="Clientes:" />

            <TableView fx:id="clientesTable" style="-fx-background-color: white; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 5, 0, 0, 2);" VBox.vgrow="ALWAYS">
                <columnResizePolicy>
                    <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                </columnResizePolicy>
                <columns>
                    <TableColumn fx:id="idClienteColumn" maxWidth="60.0" minWidth="40.0" prefWidth="50.0" style="-fx-alignment: CENTER;" text="ID" />
                    <TableColumn fx:id="nombreClienteColumn" prefWidth="200.0" text="Nombre Completo" />
                    <TableColumn fx:id="telefonoClienteColumn" prefWidth="120.0" style="-fx-alignment: CENTER;" text="Teléfono" />
                    <TableColumn fx:id="accionClienteColumn" maxWidth="100.0" minWidth="80.0" prefWidth="90.0" style="-fx-alignment: CENTER;" text="Acciones" />
                </columns>
            </TableView>
        </VBox>
    </center>

    <right>
        <VBox prefWidth="340" spacing="15" style="-fx-background-color: white; -fx-padding: 20; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), -5, 0, 0, 0);" BorderPane.alignment="CENTER">

            <Label style="-fx-font-weight: bold; -fx-font-size: 14px; -fx-text-fill: #2C3E50;" text="Datos de cliente" />

            <Separator />
            <Label style="-fx-font-weight: bold; -fx-text-fill: #2C3E50;" text="Historial de pedidos:" />
            <TableView fx:id="pedidosClienteTable" prefHeight="150" VBox.vgrow="ALWAYS">
                <columns>
                    <TableColumn fx:id="pedidoIdColumn" maxWidth="50.0" minWidth="50.0" prefWidth="50.0" text="ID" />
                    <TableColumn fx:id="pedidoFechaColumn" prefWidth="100.0" text="Fecha" />
                    <TableColumn fx:id="pedidoTotalColumn" prefWidth="100.0" text="Total" />
                </columns>
                <columnResizePolicy><TableView fx:constant="CONSTRAINED_RESIZE_POLICY" /></columnResizePolicy>
            </TableView>

            <VBox spacing="5">
                <Label text="ID Sistema:" textFill="#7f8c8d" />
                <TextField fx:id="idClienteField" disable="true" editable="false" promptText="Automático" style="-fx-background-color: #ecf0f1; -fx-background-radius: 5;" />
            </VBox>

            <VBox spacing="5">
                <Label text="Nombre Completo:" textFill="#2C3E50" />
                <TextField fx:id="nombreClienteField" promptText="Ingresar nombre de cliente" style="-fx-background-radius: 5; -fx-border-color: #ccc; -fx-border-radius: 5; -fx-padding: 8;" />
            </VBox>

            <VBox spacing="5">
                <Label text="Teléfono:" textFill="#2C3E50" />
                <TextField fx:id="telefonoClienteField" promptText="Ingresar numero telefonico" style="-fx-background-radius: 5; -fx-border-color: #ccc; -fx-border-radius: 5; -fx-padding: 8;" />
            </VBox>

            <VBox spacing="5" VBox.vgrow="ALWAYS">
                <Label text="Dirección / notas:" textFill="#2C3E50" />
                <TextArea fx:id="direccionClienteArea" prefHeight="85.0" prefWidth="300.0" promptText="Dirección de entrega o referencias..." style="-fx-background-color: transparent; -fx-border-color: #ccc; -fx-border-radius: 5;" wrapText="true" VBox.vgrow="ALWAYS" />
            </VBox>

            <Separator />

            <Button fx:id="guardarClienteButton" maxWidth="Infinity" onAction="#guardarCliente" style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-font-weight: bold; -fx-cursor: hand; -fx-background-radius: 5;" text="Guardar Cliente">
                <padding>
                    <Insets bottom="12.0" top="12.0" />
                </padding>
            </Button>

        </VBox>
    </right>

</BorderPane>
